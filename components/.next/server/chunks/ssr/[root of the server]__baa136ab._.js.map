{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Gabriel%20Dias/Desktop/offers-main/components/ui/input-field.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\n\nexport function InputField({ label, type, name, value = \"\", error }) {\n  const [field, setField] = useState(value);\n\n  return (\n    <div className=\"flex flex-col\">\n      <span className=\"ml-1\">{label}</span>\n      <input\n        type={type}\n        name={name}\n        value={field}\n        onChange={(e) => setField(e.target.value)}\n        className=\"rounded-xl border px-4 py-2\"\n        required\n      />\n      <span className=\"ml-1 text-sm text-red-500\">{error}</span>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIO,SAAS,WAAW,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE;IACjE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAK,WAAU;0BAAQ;;;;;;0BACxB,8OAAC;gBACC,MAAM;gBACN,MAAM;gBACN,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,WAAU;gBACV,QAAQ;;;;;;0BAEV,8OAAC;gBAAK,WAAU;0BAA6B;;;;;;;;;;;;AAGnD","debugId":null}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Gabriel%20Dias/Desktop/offers-main/lib/utils.js"],"sourcesContent":["import { clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAM;IAC1B,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Gabriel%20Dias/Desktop/offers-main/components/ui/button.jsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary-red text-primary-foreground shadow-xs hover:bg-primary-red-hover\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nfunction Button({ className, variant, size, asChild = false, ...props }) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,8cACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO;IACrE,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Gabriel%20Dias/Desktop/offers-main/controllers/authController.js"],"sourcesContent":["\"use server\";\n\nimport { db } from \"@/lib/db\";\nimport { z } from \"zod\";\nimport { hash } from \"bcryptjs\";\nimport { signIn, signOut } from \"@/auth\";\nimport { isRedirectError } from \"next/dist/client/components/redirect-error\";\n\nconst schema = z\n  .object({\n    name: z.string().min(3, \"Nome deve possui no mínimo 3 letras\"),\n    email: z.string().email(\"E-mail inválido\"),\n    phone: z\n      .string()\n      .min(10, \"Número de telefone inválido\")\n      .max(11, \"Número de telefone inválido\"),\n    password: z.string(),\n    confirmPassword: z.string().min(1, \"Confirme sua senha\"),\n  })\n  .refine((data) => data.password === data.confirmPassword, {\n    path: [\"confirmPassword\"],\n    message: \"As senhas não coicidem\",\n  });\n\nexport async function register(_prevState, formData) {\n  const entries = Array.from(formData.entries());\n  const data = Object.fromEntries(entries);\n\n  const result = schema.safeParse(data);\n\n  if (!result.success) {\n    return {\n      success: false,\n      errors: result.error.flatten().fieldErrors,\n    };\n  }\n\n  const existingEmail = await db.user.findUnique({\n    where: {\n      email: data.email,\n    },\n  });\n\n  const existingPhone = await db.user.findUnique({\n    where: {\n      phone: data.phone,\n    },\n  });\n\n  if (existingEmail) {\n    return {\n      success: false,\n      errors: { email: \"Esse e-mail já está cadastrado\" },\n    };\n  }\n\n  if (existingPhone) {\n    return {\n      success: false,\n      errors: { phone: \"Esse telefone já está cadastrado\" },\n    };\n  }\n\n  const hashedPassword = await hash(data.password, 10);\n\n  await db.user.create({\n    data: {\n      name: data.name,\n      email: data.email,\n      phone: data.phone,\n      password: hashedPassword,\n    },\n  });\n\n  // await signIn(\"credentials\", {\n  //   email: formData.get(\"email\"),\n  //   password: formData.get(\"password\"),\n  //   redirect: true,\n  //   redirectTo: \"/\",\n  // });\n}\n\nexport async function login(_prevState, formData) {\n  try {\n    // const teste = formData.get(\"email\")\n    // console.log(teste)\n    await signIn(\"credentials\", {\n      email: formData.get(\"email\"),\n      password: formData.get(\"password\"),\n      redirect: true,\n      redirectTo: \"/\",\n    });\n\n    return {\n      success: false,\n      error: \"E-mail ou senha incorretos\",\n    };\n  } catch (error) {\n    // Correção do erro nativo do auth.js (está em beta)\n    if (isRedirectError(error)) {\n      throw error;\n    }\n\n    if (error.type === \"CredentialsSignin\") {\n      return {\n        success: false,\n        error: \"E-mail e/ou senha incorretos\",\n      };\n    }\n  }\n}\n\nexport async function logout() {\n  await signOut({ redirectTo: \"/\" });\n}\n"],"names":[],"mappings":";;;;;;;IAwBsB;IA0DA;IA8BA","debugId":null}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Gabriel%20Dias/Desktop/offers-main/app/%28auth%29/login/login-form.jsx"],"sourcesContent":["\"use client\";\n\nimport Form from \"next/form\";\nimport { InputField } from \"@/components/ui/input-field\";\nimport { Button } from \"@/components/ui/button\";\nimport { useActionState } from \"react\";\nimport { login } from \"@/controllers/authController\";\n\nexport default function LoginForm() {\n  const [state, action, isPending] = useActionState(login, null);\n\n  return (\n    <Form\n      action={action}\n      className=\"flex w-96 flex-col rounded-lg bg-white p-6 shadow-md\"\n    >\n      <h2 className=\"text-2xl font-semibold\">Faça seu login</h2>\n      <p className=\"text-sm text-slate-600\">\n        Entre e fique por dentro das promoções\n      </p>\n      {state && (\n        <span className=\"mt-6 w-full rounded-lg border border-red-500 bg-red-100 p-1 text-center text-sm text-red-500\">\n          {state.error}\n        </span>\n      )}\n\n      <div className=\"flex flex-col gap-3 py-6\">\n        <InputField label=\"E-mail\" type=\"email\" name=\"email\" />\n        <InputField label=\"Senha\" type=\"password\" name=\"password\" />\n      </div>\n      <Button type=\"submit\" className=\"w-full\">\n        Entrar\n      </Button>\n    </Form>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,OAAO,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,iBAAc,AAAD,EAAE,6HAAA,CAAA,QAAK,EAAE;IAEzD,qBACE,8OAAC,4JAAA,CAAA,UAAI;QACH,QAAQ;QACR,WAAU;;0BAEV,8OAAC;gBAAG,WAAU;0BAAyB;;;;;;0BACvC,8OAAC;gBAAE,WAAU;0BAAyB;;;;;;YAGrC,uBACC,8OAAC;gBAAK,WAAU;0BACb,MAAM,KAAK;;;;;;0BAIhB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,mIAAA,CAAA,aAAU;wBAAC,OAAM;wBAAS,MAAK;wBAAQ,MAAK;;;;;;kCAC7C,8OAAC,mIAAA,CAAA,aAAU;wBAAC,OAAM;wBAAQ,MAAK;wBAAW,MAAK;;;;;;;;;;;;0BAEjD,8OAAC,2HAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,WAAU;0BAAS;;;;;;;;;;;;AAK/C","debugId":null}}]
}